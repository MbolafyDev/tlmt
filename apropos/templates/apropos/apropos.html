{% extends "base.html" %}
{% load static %}

{% block title %}{{ apropos.titre|default:"À propos de TLMT Services" }}{% endblock %}

{% block extra_css %}
<style>
  /* Petit habillage local pour coller à la capture */
  .apropos-intro {
    max-width: 900px;
    margin-left: auto;
    margin-right: auto;
  }
  .feature-card {
    height: 100%;
  }
  .feature-head {
    display: flex;
    align-items: center;
    gap: .6rem;
    margin-bottom: .75rem;
  }
  .feature-icon {
    width: 42px;
    height: 42px;
    object-fit: contain;   /* ne coupe pas l’icône */
    border-radius: .5rem;
    background: #f8f9fa;
    padding: .25rem;
  }
  .feature-title {
    font-weight: 700;      /* titre bien lisible comme sur la capture */
    margin: 0;
  }
  .feature-desc {
    margin: 0;
    line-height: 1.5;
  }
  .checklist {
    max-width: 900px;
    margin-left: auto;
    margin-right: auto;
    font-size: 1.05rem;
  }
</style>
{% endblock extra_css %}

{% block content %}
<section class="container my-5">

  <h2 class="text-center mb-3">{{ apropos.titre|default:"À propos de TLMT Services" }}</h2>

  <p class="apropos-intro text-center text-muted mb-5">
    {{ apropos.description|default:"TLMT Services est votre partenaire de confiance pour tous vos besoins en électricité et plomberie sanitaire. Nous proposons des services complets d’installation, de dimensionnement, de devis et de maintenance, pour particuliers et professionnels. Notre objectif est de vous fournir des solutions fiables, rapides et adaptées à vos besoins." }}
  </p>

  <div class="row g-4">
    {# Si des features existent en base #}
    {% if features %}
      {% for feature in features %}
        <div class="col-sm-6 col-lg-3">
          <div class="card shadow-sm p-3 feature-card">
            <div class="feature-head">
              {% if feature.image %}
                <img src="{{ feature.image.url }}" class="feature-icon" alt="{{ feature.titre }}">
              {% else %}
                {# Fallback: petite icône FA si pas d'image #}
                <span class="feature-icon d-inline-flex justify-content-center align-items-center">
                  <i class="fas fa-cog"></i>
                </span>
              {% endif %}
              <h5 class="feature-title">{{ feature.titre }}</h5>
            </div>
            <p class="feature-desc text-muted">{{ feature.description }}</p>
          </div>
        </div>
      {% endfor %}
    {% else %}
      {# Fallback visuel (4 cartes) si aucune feature encore en base #}
      <div class="col-sm-6 col-lg-3">
        <div class="card shadow-sm p-3 feature-card">
          <div class="feature-head">
            <span class="feature-icon d-inline-flex justify-content-center align-items-center">
              <i class="fas fa-bolt"></i>
            </span>
            <h5 class="feature-title">Installation électrique</h5>
          </div>
          <p class="feature-desc text-muted">
            Nos techniciens qualifiés assurent des installations électriques conformes aux normes, sécurisées et durables.
          </p>
        </div>
      </div>
      <div class="col-sm-6 col-lg-3">
        <div class="card shadow-sm p-3 feature-card">
          <div class="feature-head">
            <span class="feature-icon d-inline-flex justify-content-center align-items-center">
              <i class="fas fa-faucet"></i>
            </span>
            <h5 class="feature-title">Plomberie sanitaire</h5>
          </div>
          <p class="feature-desc text-muted">
            Installation, réparation et maintenance de vos systèmes de plomberie pour un confort optimal chez vous.
          </p>
        </div>
      </div>
      <div class="col-sm-6 col-lg-3">
        <div class="card shadow-sm p-3 feature-card">
          <div class="feature-head">
            <span class="feature-icon d-inline-flex justify-content-center align-items-center">
              <i class="fas fa-ruler-combined"></i>
            </span>
            <h5 class="feature-title">Devis & dimensionnement</h5>
          </div>
          <p class="feature-desc text-muted">
            Études précises et personnalisées pour dimensionner vos installations et préparer des devis clairs.
          </p>
        </div>
      </div>
      <div class="col-sm-6 col-lg-3">
        <div class="card shadow-sm p-3 feature-card">
          <div class="feature-head">
            <span class="feature-icon d-inline-flex justify-content-center align-items-center">
              <i class="fas fa-headset"></i>
            </span>
            <h5 class="feature-title">Support client</h5>
          </div>
          <p class="feature-desc text-muted">
            Notre équipe est disponible pour répondre à vos questions et vous accompagner à chaque étape de votre projet.
          </p>
        </div>
      </div>
    {% endif %}
  </div>

  <div class="mt-5 text-center">
    <h4>Pourquoi choisir TLMT Services ?</h4>
    <ul class="list-unstyled mt-3 checklist text-start">
      {% if points_cles %}
        {% for point in points_cles %}
          <li>✅ {{ point.texte }}</li>
        {% endfor %}
      {% else %}
        <li>✅ Expertise professionnelle en électricité et plomberie sanitaire</li>
        <li>✅ Services sur mesure pour particuliers et entreprises</li>
        <li>✅ Interventions rapides et respect des délais</li>
        <li>✅ Devis transparents et précis</li>
        <li>✅ Support client réactif et conseils personnalisés</li>
      {% endif %}
    </ul>
  </div>
</section>
{% endblock %}
