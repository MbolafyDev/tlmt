{% extends "base.html" %}
{% load static %}
{% load widget_tweaks %}


{% block title %}{{ title }}{% endblock %}

{% block content %}
<div class="container mt-4 mb-5">

  <h2 class="mb-4" style="color: #0d1b2a; font-weight: 700; border-left: 4px solid #ffc107; padding-left: 12px;">{{ title }}</h2>

  <form method="post" enctype="multipart/form-data" novalidate>
    {% csrf_token %}

    {% if form.non_field_errors %}
      <div class="alert alert-danger">{{ form.non_field_errors }}</div>
    {% endif %}

    <div class="card shadow-sm" style="border-radius: 16px; overflow: hidden; background-color: #ffffff;">
      <div class="card-body">
        <div class="row g-4">
          <div class="col-md-6">
            <label class="form-label fw-semibold" for="{{ form.nom.id_for_label }}">Nom de l’appareil</label>
            {{ form.nom|add_class:"form-control shadow-sm" }}
            {% if form.nom.errors %}<div class="text-danger small mt-1">{{ form.nom.errors }}</div>{% endif %}
          </div>

          <div class="col-md-6">
            <label class="form-label fw-semibold" for="{{ form.debit_brut.id_for_label }}">Débit brut (L/s)</label>
            {{ form.debit_brut|add_class:"form-control shadow-sm" }}
            {% if form.debit_brut.errors %}<div class="text-danger small mt-1">{{ form.debit_brut.errors }}</div>{% endif %}
          </div>

          <div class="col-md-6">
            <div class="form-check mt-4">
              {{ form.eau_chaude|add_class:"form-check-input" }}
              <label class="form-check-label" for="{{ form.eau_chaude.id_for_label }}">
                L’appareil utilise de l’eau chaude
              </label>
            </div>
          </div>

          <div class="col-md-6">
            <label class="form-label fw-semibold" for="{{ form.image.id_for_label }}">Image de l’appareil</label>
            {{ form.image|add_class:"form-control shadow-sm" }}
            {% if form.image.errors %}<div class="text-danger small mt-1">{{ form.image.errors }}</div>{% endif %}
          </div>
        </div>
      </div>
    </div>

    <div class="mt-4 d-flex gap-2">
      <button type="submit" class="btn btn-success" style="border-radius: 50px; padding: 0.5rem 1.2rem; font-weight: 500; background-color: #ffc107; color: #0d1b2a; border-color: #ffc107;">Enregistrer</button>
      <a href="{% url 'appareil_list' %}" class="btn btn-secondary" style="border-radius: 50px; padding: 0.5rem 1.2rem;">Annuler</a>
    </div>
  </form>
</div>

<!-- ================= STYLES MODERNES ================= -->
<style>
:root {
    --primary-yellow: #ffc107;
    --primary-blue: #0d1b2a;
    --bg-white: #ffffff;
    --bg-light-gray: #f8f9fa;
    --text-dark: #1a1a2e;
    --text-muted: #6c757d;
    --shadow-light: 0 4px 20px rgba(0,0,0,0.08);
    --shadow-hover: 0 8px 25px rgba(0,0,0,0.12);
}

/* INPUTS */
.form-control {
    border-radius: 12px;
    padding: 0.45rem 0.75rem;
    border: 1px solid #ced4da;
    transition: all 0.3s;
}
.form-control:focus {
    border-color: var(--primary-yellow);
    box-shadow: 0 0 0 0.2rem rgba(255, 193, 7, 0.25);
}

/* CARD */
.card {
    transition: transform 0.3s, box-shadow 0.3s;
}
.card:hover {
    transform: translateY(-3px);
    box-shadow: var(--shadow-hover);
}

/* BOUTONS */
.btn-success {
    transition: all 0.3s;
}
.btn-success:hover {
    background-color: #e0a800;
    border-color: #e0a800;
    color: var(--primary-blue);
}
</style>
{% endblock %}
